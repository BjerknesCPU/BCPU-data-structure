

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Data best practices &mdash; BCPU-data-structure 2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release tags" href="release_tags.html" />
    <link rel="prev" title="Storage structure" href="storage_structure.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BCPU-data-structure
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="storage_locations.html">Storage locations</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage_structure.html">Storage structure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data best practices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#downloading-new-data">Downloading new data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-permissions">File permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compressing-files">Compressing files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-archival">Data archival</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_tags.html">Release tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_readme.html">README files</a></li>
<li class="toctree-l1"><a class="reference internal" href="CMIP_data.html">CMIP data</a></li>
<li class="toctree-l1"><a class="reference internal" href="ERA_data.html">ERA data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_map.html">Data structure map</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BCPU-data-structure</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Data best practices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/data_practices.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="data-best-practices">
<h1>Data best practices<a class="headerlink" href="#data-best-practices" title="Permalink to this heading">¶</a></h1>
<section id="downloading-new-data">
<h2>Downloading new data<a class="headerlink" href="#downloading-new-data" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>First check if the data is already present in NIRD by looking in
/projects/NS9039K/data.</p></li>
<li><p>Check the size of the data download. For large downloads (&gt;1TB),
you should also check that there is sufficient storage space before commencing
the download. This can be checked using the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dusage</span> <span class="o">-</span><span class="n">p</span> <span class="n">ns9039k</span>
</pre></div>
</div>
</li>
<li><p>Newly downloaded external data should be stored in the shared data structure
/projects/NS9039K/data/external. The type of data will determine which
directory to store this in, please follow the guidance in the
<a class="reference internal" href="storage_structure.html"><span class="doc">data structure documentation</span></a>.
This documentation also contains information on how to document the data with
a README file.</p></li>
<li><p>If you need help with the data retrieval process please contact
our
<a class="reference external" href="https://bjerknescpu.github.io/BCPU-documentation/support/support.html">internal support</a>.</p></li>
</ul>
</section>
<section id="file-permissions">
<h2>File permissions<a class="headerlink" href="#file-permissions" title="Permalink to this heading">¶</a></h2>
<p>It is important that we apply the correct file permissions to data which we
place in the /projects/NS9039K/data directory so that other members of our team
can use the data.</p>
<p>Use the command <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code> to check file permissions, which are displayed as e.g.
<code class="docutils literal notranslate"><span class="pre">-rw-r--r--</span></code>. In this output, permissions are provided for three groups;
‘user’, ‘group’ and ‘other’. The first character <code class="docutils literal notranslate"><span class="pre">-</span></code> corresponds to the file
type, <code class="docutils literal notranslate"><span class="pre">-</span></code> indicating that it is a file, a <code class="docutils literal notranslate"><span class="pre">d</span></code> indicating a directory.
The next three characters <code class="docutils literal notranslate"><span class="pre">rw-</span></code> are the ‘user’ permissions, the user being the
owner of the file. The following three characters <code class="docutils literal notranslate"><span class="pre">r--</span></code> correspond to the
‘group’, and the last <code class="docutils literal notranslate"><span class="pre">r--</span></code> to ‘other’. Each character corresponds to a type
of permission defined below:</p>
<p><code class="docutils literal notranslate"><span class="pre">r</span></code> : read</p>
<p><code class="docutils literal notranslate"><span class="pre">w</span></code> : write</p>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code> : execute</p>
<p>The ‘user’ in this example <code class="docutils literal notranslate"><span class="pre">rw-</span></code> has the permissions: read, write and not
execute. The ‘group’ has permissions <code class="docutils literal notranslate"><span class="pre">r--</span></code>: read, not write and not execute.</p>
<p>Permissions are modified by the file owner using the <code class="docutils literal notranslate"><span class="pre">chmod</span></code> command. To
find out more about this command, use <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">chmod</span></code>. The group can be modified
by the file owner using the command <code class="docutils literal notranslate"><span class="pre">chgrp</span></code>, and in the NS9039K data directory
should always be ‘ns9039k’, e.g. <code class="docutils literal notranslate"><span class="pre">chgrp</span> <span class="pre">ns9039k</span> <span class="pre">&lt;file&gt;</span></code>.</p>
<p>For shared data, we want to make sure that other users in our group have read
access to the files. This means we usually want permissions <code class="docutils literal notranslate"><span class="pre">-rw-rw-r--</span></code>.
To apply these permissions apply:</p>
<p><code class="docutils literal notranslate"><span class="pre">-rw-rw-r--</span></code> : <code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">664</span> <span class="pre">&lt;files&gt;</span></code></p>
<p>Remember that for directories, we should always have read and execute
permissions for the user and the group, for example:</p>
<p><code class="docutils literal notranslate"><span class="pre">drwxrwxr-x</span></code> : <code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">775</span> <span class="pre">&lt;directories&gt;</span></code></p>
</section>
<section id="compressing-files">
<h2>Compressing files<a class="headerlink" href="#compressing-files" title="Permalink to this heading">¶</a></h2>
<p>In order to remain within the NS9039K project space quota, we should try to
compress NetCDF4 files. By using lossless compression, we can reduce file sizes
without losing any information in the files. Compressed files can,
however, take longer to load for subsequent analysis, so for data that will be
used in tasks where high I/O speed is required, compression is not recommended.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">nccopy</span></code> command can be used to compress NetCDF data, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nccopy</span> <span class="o">-</span><span class="n">k</span> <span class="mi">4</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">d</span> <span class="o">&lt;</span><span class="n">compression_level</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">compressed_filename</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where compression_level is the deflation level, from 1 (faster but lower
compression) to 9 (slower but higher compression). The recommended value for
this is 5.</p>
<p>If you need help with compressing your NetCDF4 files,
please contact our
<a class="reference external" href="https://bjerknescpu.github.io/BCPU-documentation/support/support.html">internal support</a>.</p>
</section>
<section id="data-archival">
<h2>Data archival<a class="headerlink" href="#data-archival" title="Permalink to this heading">¶</a></h2>
<p>Research data that may be of public interest can be moved to the
<a class="reference external" href="https://documentation.sigma2.no/nird_archive/user-guide.html">Research Data Archive</a>.
If you have data which you no longer need to regularly access, but that you
think would be of interest to others, or that further work could be based around
in the future then this could be suitable for the archive. Contact our
<a class="reference external" href="https://bjerknescpu.github.io/BCPU-documentation/support/support.html">internal support</a>
to find out more.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="release_tags.html" class="btn btn-neutral float-right" title="Release tags" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="storage_structure.html" class="btn btn-neutral float-left" title="Storage structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, BCPU.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>